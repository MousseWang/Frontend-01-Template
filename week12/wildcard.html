<!--
 * @Descripttion: 
 * @Author: wyao
 * @Date: 2020-07-02 00:17:35
 * @LastEditors: wyao
 * @LastEditTime: 2020-07-02 00:56:57
--> 

<script>

  function find(source, pattern){
    let startCount = 0;
    for(let i = 0; i < pattern.length; i++){
      if(pattern[i] === '*'){
        startCount++
      }
    }

    if(startCount === 0){
      for(let i = 0; i < pattern.length; i++){
        if(source[i] !== pattern[i] && pattern[i] !== '?'){
          return false
        }
      }
      return
    }

    let i = 0;
    let lastIndex = 0;

    for(i = 0; pattern[i] !== '*'; i++){
      if(source[i] !== pattern[i] && pattern[i] !== '?'){
          return false
        }
    }

    i = lastIndex;

    for(let k = 0; k < startCount - 1; k++){
      let subPattern = '';
      i++;
      while(pattern[i] !== '*'){
        subPattern += pattern[i]
        i++;
      }

      let reg = new RegExp(subPattern, replace(/\?/g, '[\\s\\S]'))
      reg.lastIndex = lastIndex
      console.log(subPattern)
      lastIndex = reg.lastIndex
    }

    for(let j = 0; j <= source.length - lastIndex && pattern[pattern.length - j] !== '*'; j++){
      if(pattern[pattern.length - j] !== source[source .length - j])
        return false
    }
    return true
  }

</script>